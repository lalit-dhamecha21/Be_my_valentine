<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine, Rupal? ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #ffe4e1 0%, #ffcccb 50%, #ffb6c1 100%);
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            position: relative;
        }

        .heart { /* unchanged */ }
        @keyframes fall { /* unchanged */ }

        .container {
            text-align: center;
            background: rgba(255, 255, 255, 0.97);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(255, 77, 109, 0.3);
            z-index: 10;
            max-width: 420px;
            backdrop-filter: blur(10px);
            position: relative; /* CONTAINER keeps buttons inside */
        }

        h1 { /* unchanged */ }
        .cat-img { /* unchanged */ }
        @keyframes gentleFloat { /* unchanged */ }

        .buttons {
            position: relative; /* FIXED: Buttons stay in container */
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
            height: 100px;
            overflow: visible; /* Let buttons escape playfully */
        }

        button {
            padding: 15px 35px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative; /* FIXED: Better positioning */
        }

        #yesBtn { /* unchanged */ }
        @keyframes pulse { /* unchanged */ }

        #noBtn {
            background: linear-gradient(135deg, #adb5bd, #dee2e6);
            color: white;
            z-index: 20;
            /* REMOVED absolute positioning - uses relative now */
        }

        #noBtn.static { /* unchanged */ }

        .shake { /* unchanged */ }
        @keyframes shake { /* unchanged */ }
        .celebrate { /* unchanged */ }
        @keyframes celebratePop { /* unchanged */ }
        p { /* unchanged */ }

        @media (max-width: 480px) {
            .container { padding: 30px 20px; margin: 20px; }
            h1 { font-size: 1.6rem; }
            .cat-img { height: 240px; }
        }
    </style>
</head>
<body>
    <!-- HTML unchanged -->
    <div class="container" id="mainContainer">
        <img src="image.jpg" class="cat-img" alt="Adorable pink Valentine's kitten with bowtie for Rupal ‚ù§Ô∏è">
        <h1>Will you be my Valentine, Rupal? üêæ</h1>
        <div class="buttons">
            <button id="yesBtn" onclick="celebrate()">Yes! ‚ù§Ô∏è</button>
            <button id="noBtn" class="static">No way!</button>
        </div>
    </div>

    <!-- Audio unchanged -->
    <audio id="yaySound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBAAAAAQAABkCAAAABABAAQA=" type="audio/wav">
    </audio>

    <script>
        const crushName = 'Rupal';
        
        // Hearts unchanged
        function createHeart() {
            const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù', 'üíò'];
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
            heart.style.fontSize = (Math.random() * 10 + 16) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5500);
        }
        setInterval(createHeart, 300);

        // FIXED Button Logic
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const buttonsContainer = document.querySelector('.buttons');
        let dodgeCount = 0;
        let yesScale = 1;
        let gameActive = true;

        const moveButton = () => {
            if (!gameActive) return;
            
            dodgeCount++;
            noBtn.classList.remove('static');
            noBtn.classList.add('shake');
            setTimeout(() => noBtn.classList.remove('shake'), 500);

            // FIXED: Calculate position RELATIVE to buttons container
            const containerRect = buttonsContainer.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            const maxX = containerRect.width - btnRect.width;
            const maxY = containerRect.height - btnRect.height;
            
            // Playful dance within container bounds
            const x = Math.random() * maxX;
            const y = Math.random() * maxY;
            
            // Position relative to buttons container (not body)
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;

            // Yes button grows FOREVER
            yesScale += 0.15;
            yesBtn.style.transform = `scale(${Math.min(yesScale, 2.5)})`; // Cap at 2.5x
            
            // Fun taunts that cycle
            const taunts = [
                "No way!", "Try again!", "Not so fast!", "You can't catch me! üòº", 
                "Pick Yes instead! üíï", "Pretty please? üêæ", "I dare you! üòè"
            ];
            noBtn.textContent = taunts[dodgeCount % taunts.length];
        };

        // Multiple triggers for endless fun
        ['mouseover', 'click', 'touchstart', 'pointerdown'].forEach(event => {
            noBtn.addEventListener(event, (e) => {
                if (event === 'touchstart') e.preventDefault();
                moveButton();
            });
        });

        // FIXED Celebration - disable game
        function celebrate() {
            gameActive = false; // Stop No button forever
            const container = document.getElementById('mainContainer');
            container.classList.add('celebrate');
            container.innerHTML = `
                <img src="image.jpg" class="cat-img" alt="Happy Valentine's kitten celebrating with Rupal!">
                <h1 style="font-size: 2.2rem;">Yay, ${crushName}! ‚ù§Ô∏èüêæ</h1>
                <p>I knew you'd say yes! Let's make it purr-fect! üíï</p>
                <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">(Reload for another try üòª)</p>
            `;

            // Rest of celebration unchanged...
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    confetti({
                        particleCount: Math.random() * 50 + 100,
                        spread: 70,
                        origin: { x: Math.random(), y: Math.random() - 0.2 },
                        colors: ['#ff4d6d', '#ff69b4', '#ffb3ba', '#fff', '#ffd700'],
                        shapes: ['heart']
                    });
                }, i * 200);
            }

            const yaySound = document.getElementById('yaySound');
            yaySound.volume = 0.3;
            yaySound.play().catch(() => {});

            for(let i = 0; i < 30; i++) {
                setTimeout(createHeart, i * 30);
            }
        }
    </script>
</body>
</html>
